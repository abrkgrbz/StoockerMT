{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "MasterConnection": "Data Source=localhost;Initial Catalog=StoockerMT_Master;Integrated Security=True;Connect Timeout=30;Encrypt=True;Trust Server Certificate=True;Application Intent=ReadWrite;Multi Subnet Failover=False",
    "TenantConnection": "Data Source=localhost;Initial Catalog=StoockerMT_Tenant_{0};Integrated Security=True;Connect Timeout=30;Encrypt=True;Trust Server Certificate=True;Application Intent=ReadWrite;Multi Subnet Failover=False"
  },
  "TenantSettings": {
    "DefaultDatabasePrefix": "StoockerMT_Tenant_",
    "MaxTenantsPerServer": 100,
    "DefaultModules": [ "CRM", "INV" ],
    "TrialDays": 30,
    "DefaultMaxUsers": 5,
    "DefaultMaxModules": 3,
    "DefaultStorageLimitMB": 1024
  },
  "JwtSettings": {
    "Secret": "05a5ec788638c92355658eb3a59b0d45ed2af809503586bb7a5923201a4b6209",
    "Issuer": "StoockerMT",
    "Audience": "StoockerMT",
    "ExpirationInMinutes": 60,
    "RefreshTokenExpirationInDays": 7
  },
  "RateLimitSettings": {
    "PermitLimit": 100,
    "Window": 60,
    "QueueProcessingOrder": "OldestFirst",
    "QueueLimit": 50
  },
  "Development": {
    "SkipTenantValidation": true
  },
  "Identity": {
    "PasswordMinLength": 8,
    "PasswordRequireDigit": true,
    "PasswordRequireUppercase": true,
    "PasswordRequireLowercase": true,
    "PasswordRequireSpecialChar": true,
    "MaxFailedLoginAttempts": 5,
    "LockoutDurationInMinutes": 15
  }, 
  "DataProtection": {
    "KeyStoragePath": "/app/keys",
    "ApplicationName": "StoockerMT"
  }, 
  "KeyVault": {
    "Uri": "${KEYVAULT_URI}",
    "TenantId": "${AZURE_TENANT_ID}",
    "ClientId": "${AZURE_CLIENT_ID}",
    "ClientSecret": "${AZURE_CLIENT_SECRET}"
  }, 
  "DatabaseSettings": {
    "Server": "localhost",
    "Port": "1433",
    "DataPath": "C:\\SQLData",
    "LogPath": "C:\\SQLLogs",
    "Encrypt": "true",
    "TrustServerCertificate": "true",
    "ConnectionTimeout": "30",
    "CommandTimeout": "30",
    "Collation": "SQL_Latin1_General_CP1_CI_AS",
    "RecoveryModel": "FULL",
    "CompatibilityLevel": "150"
  }, 
  "BackupSettings": {
    "Path": "C:\\Backups",
    "RetentionDays": 30,
    "AutoBackupEnabled": true,
    "BackupIntervalHours": 24
  },
  "ConnectionResiliency": {
    "EnableRetryOnFailure": true,
    "MaxRetryCount": 6,
    "MaxRetryDelaySeconds": 30,
    "EnableCircuitBreaker": true,
    "CircuitBreakerFailureThreshold": 5,
    "CircuitBreakerDurationSeconds": 30,
    "CommandTimeoutSeconds": 30,
    "EnableConnectionPooling": true,
    "MinPoolSize": 5,
    "MaxPoolSize": 100
  },
  "TenantResolution": {
    "Strategy": "Combined",
    "HeaderName": "X-Tenant-ID",
    "RequireTenantForAllRequests": true,
    "ExcludedPaths": [
      "/health",
      "/swagger",
      "/api/auth/login",
      "/api/auth/register",
      "/api/tenants/register",
      "/.well-known"
    ],
    "CacheDurationMinutes": 30,
    "EnableSubdomainResolution": true,
    "BaseUrl": "stoockermt.com"
  },
  "OpenTelemetry": {
    "ServiceName": "StoockerMT.API",
    "ServiceVersion": "1.0.0",
    "JaegerEndpoint": "http://jaeger:14268/api/traces"
  },
  "HealthChecks": {
    "EnableUI": true,
    "EvaluationTimeInSeconds": 60,
    "MinimumSecondsBetweenFailureNotifications": 300
  },
  "ApiVersioning": {
    "DefaultApiVersion": "1.0",
    "AssumeDefaultVersionWhenUnspecified": true,
    "ReportApiVersions": true
  },
  "FeatureFlags": {
    "EnableSwagger": true,
    "EnableHealthChecks": true,
    "EnableAuditLogging": true,
    "EnableMetrics": true,
    "EnableDistributedTracing": false
  },
  "Cache": {
    "UseRedis": false,
    "RedisConnection": "localhost:6379"
  }
}
